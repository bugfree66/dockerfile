FROM base/archlinux

LABEL maintainer="Eric Lee <lichang.eric@gmail.com>"

ENV LANG en_US.UTF-8

RUN    pacman --noconfirm -Syu \
    && pacman --noconfirm -S vim iproute2 git nodejs npm \
    && rm -f \
      /var/cache/pacman/pkg/* \
      /var/lib/pacman/sync/* \
      /etc/pacman.d/mirrorlist.pacnew
RUN    npm config set registry https://registry.npm.taobao.org
RUN    npm install hexo-cli -g
RUN    cd /root \
    && git clone https://github.com/kitrap/kitrap.git \
    && cd kitrap \
    && npm install hexo --save \
    && npm install hexo-deployer-git --save

CMD ["/bin/bash"]
