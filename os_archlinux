FROM base/archlinux

LABEL maintainer="Eric Lee <lichang.eric@gmail.com>"

RUN    echo "zh_CN.UTF-8 UTF-8" >> /etc/locale.gen \
    && echo "en_US.UTF-8 UTF-8" >> /etc/locale.gen \
    && locale-gen

ENV LANG en_US.UTF-8

RUN    pacman --noconfirm -Syu \
    && pacman --noconfirm -S vim iproute2 git nodejs npm \
    && rm -f \
      /var/cache/pacman/pkg/* \
      /var/lib/pacman/sync/* \
      /etc/pacman.d/mirrorlist.pacnew

RUN    git config --global user.email "lichang.eric@gmail.com" \
    && git config --global user.name "Eric Lee"
      
RUN    npm config set registry https://registry.npm.taobao.org
RUN    npm install hexo-cli -g
RUN    cd /root \
    && git clone https://github.com/kitrap/kitrap.git \
    && cd kitrap \
    && npm install hexo --save \
    && npm install hexo-deployer-git --save

CMD ["/bin/bash"]
